<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
<title>SIGN UP</title>
</head>
<body>   
<form onsubmit="signUp()">
    <br/>
	<center>
        <br/><br/><br/>
        <h1> <center> Sign Up Page</h1>
        <br/>
        <input type="text" name="userName" id="userName" placeholder="Enter Your Name"required autofocus><br/>
        <br/>
        <input type="number" name="registerNumber" id="regNumber" placeholder="Enter Register Number"required autofocus><br/>
        <br/>
        <input type="password"  pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" name="newPassword" id="signupNewPassword" placeholder="Enter New Password" required autofocus><br/>
        <br/>
        <input type="password"  pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"name="reenter" id="signupReenterPassword" placeholder="Re-Enter New Password" required autofocus><br/>
        <br/>
        <button type="submit" class="btn btn-primary">Submit</button>
        <button type="reset"class="btn btn-primary">Reset</button>
        <br/><br/>
        <label for="validation" id="loginValidation"  style="color:red;"></label>
        <br/><br/>
    </center>
</form>
<script>
    function signUp()
    {
        event.preventDefault();
        let signupName=document.querySelector("#userName").value;   
        let RegNumber=document.querySelector("#regNumber").value;                 
        let Password=document.querySelector("#signupNewPassword").value;
        let ReenterPassword=document.querySelector("#signupReenterPassword").value; 
        let signupPasswordArray=localStorage.getItem("dob");
        let signupPassword=JSON.parse(signupPasswordArray);
        let signupRegisterNumberArray=localStorage.getItem("reg");
        let signupRegisterNumber=JSON.parse(signupRegisterNumberArray);
        if((signupRegisterNumber.includes(RegNumber)==false))
        {
            if(Password==ReenterPassword)
            {
                if((signupPassword.includes(Password)==false))
                {
                    signupRegisterNumber.push(RegNumber);
                    signupPassword.push(Password);
                    localStorage.setItem("newnumber",JSON.stringify(signupRegisterNumber));
                    localStorage.setItem("newpass",JSON.stringify(signupPassword));
                    window.location.href="Signin.html";
                }
                else
                {
                    document.getElementById("loginValidation").innerHTML="----Already existing password----";
                }
            }	                
            else
            {
                document.getElementById("loginValidation").innerHTML="----Enter the same password----";
            }
        }
        else
        {
            document.getElementById("loginValidation").innerHTML="----User name already exists----";
        }

    }
</script>
</body>    
</html>